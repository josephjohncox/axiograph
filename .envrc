# Load environment-specific config
dotenv_if_exists .env
dotenv_if_exists .env.local
dotenv_if_exists .envrc.local

# Load user-specific config (e.g., joseph.envrc)
dotenv_if_exists "$USER.envrc"

# Install git hooks automatically
if [ ! -f .git/hooks/pre-commit ] || [ ! -L .git/hooks/pre-commit ]; then
  echo "ðŸ“¦ Installing Git pre-commit hooks..."
  ./scripts/install-hooks.sh
fi

# Add bin to PATH for local development
PATH_add bin

# Go development
export GOFLAGS="-mod=readonly"

echo "âœ“ Axiograph dev environment loaded"
echo "  Config: $AXIOGRAPH_CONFIG"
echo "  User config: $USER.envrc (if exists)"
